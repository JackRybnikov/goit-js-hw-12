{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\n\nexport const galleryCreation = (images) => {\n    galleryList.innerHTML = \"\";\n    if(images.length === 0){\n        iziToast.error({\n            backgroundColor: '#FFBEBE',\n            messageColor: '#fff',\n            position: 'topRight',\n            message: `Sorry, there are no images matching your search query. Please try again!`\n        })\n    }else{\n        const markup = images.map(image => {\n            const {webformatURL: small, largeImageURL: big, tags: alt, likes, views, comments, downloads } = image;\n            return `<li class=\"gallery-item\">\n                        <a class=\"gallery-link\" href=\"${big}\">\n                            <img\n                            class=\"gallery-image\"\n                            src=\"${small}\"\n                            alt=\"${alt}\"\n                            />\n                        </a>\n                        <ul class=\"properties\">\n                                <li>\n                                    <h5>Likes</h5>\n                                    <p>${likes}</p>\n                                </li>\n                                <li>\n                                    <h5>Views</h5>\n                                    <p>${views}</p>\n                                </li>\n                                <li>\n                                    <h5>Comments</h5>\n                                    <p>${comments}</p>\n                                </li>\n                                <li>\n                                    <h5>Downloads</h5>\n                                    <p>${downloads}</p>\n                                </li>\n                            </ul>\n                    </li>`;\n        })\n        .join(\"\");\n\n        galleryList.insertAdjacentHTML(\"beforeend\", markup);\n\n        const gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: \"alt\",});\n\n        gallery.refresh();\n    }\n};\n","import { galleryCreation } from \"./render-functions.js\";\n\nexport const sendRequest = (search) => {\n\n    let addToSearch = new URLSearchParams({\n        key: \"42388767-1d9ccb99c091176bae08c2c78\",\n        q: search,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 198,\n    });\n\n    fetch(`https://pixabay.com/api/?${addToSearch}`)\n    .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n    })\n    .then(value => {\n        galleryCreation(value.hits);\n    })\n    .catch(error => console.log(error));\n}\n\n","import { sendRequest } from \"./js/pixabay-api.js\"\n\nconst galleryList = document.querySelector(\".gallery\");\nconst searchText = document.querySelector(\"#photo-search\");\nconst searchBtn = document.querySelector(\".search-btn\");\nconst searchForm = document.querySelector(\".search-form\");\n\n// getting search value\nconst localStorageKey = \"search-text\";\n\nsearchText.value = JSON.parse(localStorage.getItem(localStorageKey));\n\nif(searchText.value === ''){\n    searchBtn.setAttribute('disabled', true);\n}\n\nconst handleClick = () => {\n    galleryList.innerHTML = `<div class=\"loader\"></div>`;\n\n    const search = localStorage.getItem(localStorageKey);\n    localStorage.removeItem(localStorageKey);\n    searchForm.reset();\n    searchBtn.setAttribute('disabled', true);\n\n    sendRequest(search);\n};\n\nconst check = (e) =>{\n    let text = e.target.value;\n\n    localStorage.setItem(localStorageKey,JSON.stringify(text));\n    \n    if(text !== ''){\n        searchBtn.removeAttribute('disabled');\n    } else {\n        searchBtn.setAttribute('disabled', true);\n    }\n}\n\nwindow.addEventListener('keydown', (e) => {\n    if (e.key=='Enter') {\n        if (e.target.nodeName=='INPUT' && e.target.type=='text') {\n            e.preventDefault();\n            if (searchText.value !== \"\"){\n                handleClick();\n            }\n        }\n    }\n}, true);\n  \nsearchText.addEventListener(\"input\", e =>{\n    e.stopPropagation();\n    e.preventDefault();\n    \n    check(e);\n});\n\nsearchBtn.addEventListener(\"click\", e =>{\n    e.stopPropagation();\n    e.preventDefault();\n\n    handleClick();\n});\n\n\n/*const markup = images.map(image => {\n    const {preview: small, original: big, description: alt} = image;\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${big}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${small}\"\n      alt=\"${alt}\"\n    />\n  </a>\n</li>`;\n})\n.join(\"\");\n\n\n\nconst gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: \"alt\",});*/\n"],"names":["galleryList","galleryCreation","images","iziToast","markup","image","small","big","alt","likes","views","comments","downloads","SimpleLightbox","sendRequest","search","addToSearch","response","value","error","searchText","searchBtn","searchForm","localStorageKey","handleClick","check","text"],"mappings":"6vBAMA,MAAMA,EAAc,SAAS,cAAc,UAAU,EAExCC,EAAmBC,GAAW,CAEvC,GADAF,EAAY,UAAY,GACrBE,EAAO,SAAW,EACjBC,EAAS,MAAM,CACX,gBAAiB,UACjB,aAAc,OACd,SAAU,WACV,QAAS,0EACrB,CAAS,MACA,CACD,MAAMC,EAASF,EAAO,IAAIG,GAAS,CAC/B,KAAM,CAAC,aAAcC,EAAO,cAAeC,EAAK,KAAMC,EAAK,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAKP,EACjG,MAAO;AAAA,wDACqCE,CAAG;AAAA;AAAA;AAAA,mCAGxBD,CAAK;AAAA,mCACLE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMGC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,0BAIlD,CAAS,EACA,KAAK,EAAE,EAERZ,EAAY,mBAAmB,YAAaI,CAAM,EAElC,IAAIS,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,KAAK,CAAE,EAEnF,QAAO,CAClB,CACL,ECtDaC,EAAeC,GAAW,CAEnC,IAAIC,EAAc,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GAClB,CAAK,EAED,MAAM,4BAA4BC,CAAW,EAAE,EAC9C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAK,EACA,KAAKC,GAAS,CACXjB,EAAgBiB,EAAM,IAAI,CAClC,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,ECtBMnB,EAAc,SAAS,cAAc,UAAU,EAC/CoB,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAGlDC,EAAkB,cAExBH,EAAW,MAAQ,KAAK,MAAM,aAAa,QAAQG,CAAe,CAAC,EAEhEH,EAAW,QAAU,IACpBC,EAAU,aAAa,WAAY,EAAI,EAG3C,MAAMG,EAAc,IAAM,CACtBxB,EAAY,UAAY,6BAExB,MAAMe,EAAS,aAAa,QAAQQ,CAAe,EACnD,aAAa,WAAWA,CAAe,EACvCD,EAAW,MAAK,EAChBD,EAAU,aAAa,WAAY,EAAI,EAEvCP,EAAYC,CAAM,CACtB,EAEMU,EAAS,GAAK,CAChB,IAAIC,EAAO,EAAE,OAAO,MAEpB,aAAa,QAAQH,EAAgB,KAAK,UAAUG,CAAI,CAAC,EAEtDA,IAAS,GACRL,EAAU,gBAAgB,UAAU,EAEpCA,EAAU,aAAa,WAAY,EAAI,CAE/C,EAEA,OAAO,iBAAiB,UAAY,GAAM,CAClC,EAAE,KAAK,SACH,EAAE,OAAO,UAAU,SAAW,EAAE,OAAO,MAAM,SAC7C,EAAE,eAAc,EACZD,EAAW,QAAU,IACrBI,IAIhB,EAAG,EAAI,EAEPJ,EAAW,iBAAiB,QAAS,GAAI,CACrC,EAAE,gBAAe,EACjB,EAAE,eAAc,EAEhBK,EAAM,CAAC,CACX,CAAC,EAEDJ,EAAU,iBAAiB,QAAS,GAAI,CACpC,EAAE,gBAAe,EACjB,EAAE,eAAc,EAEhBG,GACJ,CAAC"}